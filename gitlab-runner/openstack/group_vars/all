---
# settings for all kinds of gitlab-runner

# Official Ubuntu image has no Python2
PUBLIC_KEY: "../files/id_rsa_catalyst_samba.pub"
KEYPAIR_NAME: "catalyst_samba"

DOCKER_REGISTRY: registry.gitlab.com
DOCKER_IMAGE: registry.gitlab.com/samba-team/samba

# Gitlab->Project->Settings->CI/CD
CI_SERVER_URL: https://gitlab.com/
# REGISTRATION_TOKEN: secret, Ansible will ask
REGISTER_RUN_UNTAGGED: false

RUNNER_GROUP: gitlab-runners
RUNNER_NAME: gitlab-runner
RUNNER_LIMIT: 30
RUNNER_EXECUTOR: docker+machine
RUNNER_TAG_LIST: docker,private
# set all runner log output limit
RUNNER_OUTPUT_LIMIT: 8192

OS_NETWORK_BASE: 10.0.0
OS_NETWORK_NAME: gitlab-runner-net
OS_SUBNET_NAME: gitlab-runner-subnet
OS_ROUTER_NAME: gitlab-runner-router
OS_SECURITY_GROUP_NAME: gitlab-runner-security-group

OS_IMAGE_NAME: ubuntu-16.04-x86_64
OS_IMAGE_ID: 096021b5-a973-4c0b-b786-c48c85f1f662

OS_FLAVOR_NAME: c1.c2r8  # flavor for docker-machine servers
OS_FLAVOR_ID: 0c7dc485-e7cc-420d-b118-021bbafa76d7

OS_SSH_USER: ubuntu
OS_AUTH_URL: https://api.cloud.catalyst.net.nz:5000/v2.0
OS_REGION_NAME: nz-por-1

MACHINE_NAME: private-%s
MACHINE_IDLE_COUNT: 0
MACHINE_IDLE_TIME: 30
MACHINE_MAX_BUILDS: 100
MACHINE_OFF_PEAK_IDLE_COUNT: 0
MACHINE_OFF_PEAK_IDLE_TIME: 0
MACHINE_DRIVER: openstack
